{% extends 'base.html' %}

{% block title %}Submitted Assignment{% endblock %}

{% block content %}
<h2 style="text-decoration: underline; text-decoration-thickness: 5px;"><b>Submitted Assignments</b></h2>

<table border="1">
    <thead>
        <tr>
            <th>Student Name</th>
            <th>Admission</th>
            <th>Assignment</th>
            <th>Submission Time</th>
            <th>File</th>
        </tr>
    </thead>


    <tbody>
        <h2>Submitted</h2>
        {% for submission in submissions %}
        <tr>
            <td>{{ submission.student.user.get_full_name }}</td>
            <td>{{ submission.student.student_id}}</td>
            <td>{{ submission.assignment.name }}</td>
            <td>{{ submission.submitted_at }}</td>
            <td>
                {% if submission.submission_file %}
                <a href="{{ submission.submission_file.url }}" target="_blank">View File</a>
                {% else %}
                No file uploaded
                {% endif %}
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="5">No submissions yet.</td>
        </tr>
        {% endfor %}
    </tbody>

</table>

<table border="1">
    <thead>
        <tr>
            <th>Student Name</th>
            <th>Admission</th>
            <th>Assignment</th>
            <th>Submission Time</th>
            <th>File</th>
        </tr>
    </thead>

    <br>

    <tbody>
        <h2>Not Submitted</h2>
        {% for submission in submissions %}
        <tr>
            <td>{{ submission.student.user.get_full_name }}</td>
            <td>{{ submission.student.student_id}}</td>
            <td>{{ submission.assignment.name }}</td>
            <td>{{ submission.submitted_at }}</td>
            <td>
                {% if submission.submission_file %}
                <a href="{{ submission.submission_file.url }}" target="_blank">View File</a>
                {% else %}
                No file uploaded
                {% endif %}
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="5">No submissions yet.</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<style>
    /* Styles for the table */
table {
    width: 100%;
    border-collapse:separate;
    margin-top: 20px;
    font-family: Arial, sans-serif;
}

th, td {
    padding: 10px;
    text-align: left;
    border: 1px solid #ddd;
}

th {
    background-color: #f2f2f2;
    font-weight: bold;
}

td {
    background-color: #f9f9f9;
}

td a {
    color: #007bff;
    text-decoration: none;
}

td a:hover {
    text-decoration: underline;
}

/* Styling the headings */
h2 {
    text-align: center;
    font-size: 2rem;
    color: #333;
    margin-bottom: 20px;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    table {
        font-size: 0.9rem;
    }

    th, td {
        padding: 8px;
    }
}

/* Default Table Styles */
table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
    font-family: Arial, sans-serif;
}

th, td {
    padding: 12px;
    text-align: left;
    border: 1px solid #ddd;
}

th {
    background-color: #f2f2f2;
    font-weight: bold;
}

td {
    background-color: #f9f9f9;
}

td a {
    color: #007bff;
    text-decoration: none;
}

td a:hover {
    text-decoration: underline;
}

/* Styling the headings */
h2 {
    text-align: center;
    font-size: 2rem;
    color: #333;
    margin-bottom: 20px;
}

/* Responsive adjustments */
@media (max-width: 1024px) {
    table {
        font-size: 0.9rem;
    }

    th, td {
        padding: 8px;
    }
}

@media (max-width: 768px) {
    table {
        font-size: 0.85rem;
    }

    th, td {
        padding: 6px;
    }

    h2 {
        font-size: 1.5rem;
    }
}

/* Small Phones (Below 480px) */
@media screen and (max-width: 480px) {
    table {
        font-size: 0.8rem;
    }

    th, td {
        padding: 5px;
    }

    h2 {
        font-size: 1.3rem;
    }
}

</style>

{% endblock %}
