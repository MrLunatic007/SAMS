{% extends "base.html" %}
{% load static %}

{% block title %}Teacher NoticeBoard{% endblock title %}

{% block extra_css %}

    body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background-color: #f0f0f0;
    }

    .notice-form-container {
        width: 50%; /* Adjust the width as per your preference */
        margin: 2rem auto; /* Center horizontally and add margin at the top */
        padding: 2rem;
        border: 1px solid #ddd;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        display: flex;
        flex-direction: column;
        background-color: white;
        border-radius: 8px;
    }

    .notice-form-container h2 {
        margin-bottom: 1rem;
        font-size: 1.5rem;
        color: #333;
    }

    .notice-form-container .form-group {
        margin-bottom: 1rem;
    }

    .notice-form-container label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: bold;
        color: #333;
    }

    .notice-form-container input,
    .notice-form-container select,
    .notice-form-container textarea {
        width: 100%;
        padding: 0.8rem;
        border: 1px solid #ddd;
        border-radius: 4px;
        font-size: 1rem;
    }

    .notice-form-container textarea {
        height: 100px;
    }

    .notice-form-container .submit-btn {
        all: unset;
        padding: 0.8rem 1.5rem;
        background-color: black;
        color: white;
        text-align: center;
        cursor: pointer;
        border-radius: 4px;
        margin-top: 1rem;
        display: inline-block;
        text-transform: uppercase;
    }

    .notice-form-container .submit-btn:hover {
        background-color: grey;
    }

    .assignment-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 2rem;
        gap:0.5rem;
    }

    .assignment-card {
        width: 90rem;
        background-color: white;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        margin-bottom: 2rem;
        transition: transform 0.3s ease;
    }

    .assignment-card:hover {
        transform: translateY(-5px);
    }

    .assignment-content {
        padding: 1.5rem;
        margin: 0.5rem;
    }

    .assignment-title {
        font-size: 1.2rem;
        font-weight: bold;
        margin-bottom: 0.5rem;
    }

    .assignment-description {
        font-size: 1rem;
        color: #666;
        margin-bottom: 0.5rem;
    }

    .assignment-duedate {
        margin-bottom: 0.5rem;
    }

    .AssignBtn {
        all: unset;
        padding: 0.5rem;
        border: 1px solid black;
        border-bottom: 3px solid black;
        border-right: 3px solid black;
        margin-left: 2rem;
    }

    .AssignBtn:hover {
        background: grey;
    }

    .delbtn {
        color: red;
        text-decoration: none;
        border: 1px solid red;
        padding: 0.5rem;
        border-radius: 5px;
        transition: background 0.3s ease;
        display: flex;
        justify-content; right;
        width: 4rem;
    }

    .delbtn:hover {
        background: red;
        color: white;
    }

    /* Default Styles - Desktop First */
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f0f0f0;
}

/* Form Container */
.notice-form-container {
    width: 50%;
    margin: 2rem auto;
    padding: 2rem;
    border: 1px solid #ddd;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    display: flex;
    flex-direction: column;
    background-color: white;
    border-radius: 8px;
}

.notice-form-container input,
.notice-form-container select,
.notice-form-container textarea {
    width: 100%;
    padding: 0.8rem;
    border: 1px solid #ddd;
    border-radius: 4px;
    font-size: 1rem;
}

.notice-form-container textarea {
    height: 100px;
}

.notice-form-container .submit-btn {
    all: unset;
    padding: 0.8rem 1.5rem;
    background-color: black;
    color: white;
    text-align: center;
    cursor: pointer;
    border-radius: 4px;
    margin-top: 1rem;
    display: inline-block;
    text-transform: uppercase;
}

.notice-form-container .submit-btn:hover {
    background-color: grey;
}

/* Notices Section */
.notice-container-1 {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 2rem;
    gap: 0.5rem;
}

.notice-card-1 {
    width: 70%;
    background-color: white;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    margin-bottom: 2rem;
    transition: transform 0.3s ease;
}

.notice-card:hover {
    transform: translateY(-5px);
}

.notice-content {
    padding: 1.5rem;
    margin: 0.5rem;
}

.notice-title {
    font-size: 2rem;
    font-weight: bold;
    margin-bottom: 0.5rem;
}

.notice-description {
    font-size: 1.5rem;
    color: brown;
    margin-bottom: 0.5rem;
}

.notice-duedate {
    font-size: 1rem;
    margin-bottom: 0.5rem;
}

/* Buttons */
.noticeBtn {
    all: unset;
    padding: 0.5rem;
    border: 1px solid black;
    border-bottom: 3px solid black;
    border-right: 3px solid black;
    margin-left: 2rem;
}

.noticeBtn:hover {
    background: grey;
}

.delbtn {
    color: red;
    text-decoration: none;
    border: 1px solid red;
    padding: 0.5rem;
    border-radius: 5px;
    transition: background 0.3s ease;
    display: flex;
    justify-content: right;
    width: 4rem;
}

.delbtn:hover {
    background: red;
    color: white;
}

/* Responsive Design */

{% endblock extra_css %}

{% block content %}
<body>
    <h1 style="text-align: center;">Notices</h1>
    <button class="noticeBtn" type="button" id="openbtn" onclick="Open()">Create Notice</button>


    <div class="notice-form-container" id="notice-form" style="display: none;">
        <h2>Create New Notice</h2>
        <form method="post">
            {% csrf_token %}
            <div class="form-group">
                <label for="title">Title</label>
                <input type="text" id="title" name="title" required>
            </div>
            <div class="form-group">
                <label for="importance">Importance</label>
                <select id="importance" name="importance">
                    <option value="normal">Normal</option>
                    <option value="important">Important</option>
                </select>
            </div>
            <div class="form-group">
                <label for="content">Notice Content</label>
                <textarea id="content" name="content" required></textarea>
            </div>
            <button type="submit">Create Notice</button>
        </form>
    </div>

    <div class="notice-container-1">
        {% if noticeb %}
            {% for notice in noticeb %}
            <div class="notice-card-1">
                <div class="notice-content">
                    <div class="notice-title">{{notice.name}}</div>
                    <div class="notice-description" style="color: brown;">{{notice.importance}}</div>
                    <div class="notice-duedate">{{notice.description}}</div>
                    <a href="{% url 'core:t_n_delete' notice.id %}" class="delbtn" onclick="return confirm('Are you sure you want to delete this assignment?')">Delete</a>
                </div>
            </div>
            {% endfor %}
        {% else %}
        <h2>No Notice</h2>
        {% endif %}
    </div>
</body>
    
{% endblock content %}


{% block extra_js %}
    const btn = document.getElementById('openbtn');
    const n_form = document.getElementById('notice-form');

    function Open() {
        if (n_form.style.display === "none" || n_form.style.display === "") {
            // Show the form and move the button to the top-left
            n_form.style.display = "block";
            btn.innerHTML = "Close Notice";
            btn.style.top = "1rem";
            btn.style.left = "1rem";
        } else {
            // Hide the form and return the button to its original position
            n_form.style.display = "none";
            btn.innerHTML = "Create Notice";
            btn.style.top = "15rem";  // Original position
            btn.style.left = "40rem"; // Original position
        }
    }

{% endblock extra_js %}